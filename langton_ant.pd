#N canvas 1054 299 888 500 12;
#X obj 111 203 gemhead;
#X msg 123 278 GREY;
#X obj 184 219 loadbang;
#N canvas 889 369 1141 863 \$0-ant_moves 0;
#X obj 131 176 list;
#X text 188 176 current position;
#X obj 452 51 inlet;
#X obj 120 98 inlet;
#X text 175 94 ITERATION;
#X obj 131 201 unpack f f f;
#X obj 134 233 pack f f;
#X text 709 466 if ant on black \, turn right \, move forward;
#X text 706 493 if ant on white \, turn left \, move forward;
#X text 709 518 swap colors of square ant leaves;
#X obj 532 400 array get \$0-matrix 0 1;
#X text 733 399 get cur pos and swap color;
#X msg 567 468 0;
#X obj 545 345 t f f;
#X obj 529 508 array set \$0-matrix 0;
#X obj 134 258 t a b a, f 34;
#X obj 501 547 array get \$0-matrix 0 -1;
#X text 560 574 dump list;
#X text 447 179 turn right: + 1 mod 4;
#X text 462 213 turn left: -1 mod 4;
#X obj 534 431 sel 0 1;
#X msg 524 474 1;
#X obj 286 409 + 1;
#X msg 401 391 1;
#X msg 468 469 3;
#X obj 290 436 % 4;
#X obj 279 362 f;
#X obj 256 477 sel 0 1 2 3, f 18;
#X obj 147 639 pdkl-map2;
#X obj 253 634 +;
#X msg 232 541 0 -1;
#X msg 281 542 1 0;
#X msg 322 544 0 1;
#X msg 371 550 -1 0;
#X text 361 612 move forward;
#X text 338 359 turn;
#X text 66 287 UPDATE;
#X obj 148 796 list append, f 18;
#X obj 148 821 s \$0-antpos;
#X obj 150 144 r \$0-antpos;
#X obj 501 572 outlet;
#X obj 598 279 r \$0-xdim;
#X obj 134 283 t a b;
#X obj 147 696 pdkl-map;
#X obj 237 724 % 128;
#X obj 300 676 r \$0-xdim;
#X obj 238 693 + 128;
#N canvas 868 384 822 527 \$0-ant_2dto1d 0;
#X obj 173 103 inlet;
#X text 236 103 tuple;
#X obj 511 102 inlet;
#X text 567 104 eltsize;
#X obj 327 104 inlet;
#X text 384 103 matrix: x-dim;
#X obj 173 143 unpack f f;
#X obj 254 187 *;
#X obj 169 235 +;
#X obj 169 260 *;
#X obj 169 285 outlet;
#X text 32 26 dk2dto1d - taking 2d coords and mapping to 1d;
#X text 55 50 (if laid out by successive rows);
#X obj 451 154 loadbang;
#X obj 388 174 f \$1;
#X obj 471 205 f \$2;
#X obj 471 230 max 1;
#X obj 388 199 max 1;
#X text 84 377 args: x-dim \, eltsize;
#X text 720 47 derek kwan;
#X text 715 107 gpl v 3 2017;
#X text 721 86 pdkvabs;
#X connect 0 0 6 0;
#X connect 2 0 9 1;
#X connect 4 0 7 1;
#X connect 6 0 8 0;
#X connect 6 1 7 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 13 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 17 0;
#X connect 15 0 16 0;
#X connect 16 0 9 1;
#X connect 17 0 7 1;
#X restore 548 307 pd \$0-ant_2dto1d;
#N canvas 354 272 600 386 \$0-ant_init 0;
#X obj 328 304 array define \$0-matrix;
#X obj 403 229 array size \$0-matrix;
#X obj 219 138 pow 2;
#X obj 202 162 t b b f;
#X obj 32 258 random;
#X obj 191 273 random 4;
#X text 313 59 INIT;
#X obj 68 317 pack f f f;
#X obj 94 196 t b b b;
#X obj 117 265 random;
#X text 178 324 x y direction;
#X obj 68 342 s \$0-antpos;
#X msg 338 272 const 1;
#X obj 161 52 t f f f;
#X obj 225 75 s \$0-xdim;
#X obj 157 9 inlet;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 3 1 12 0;
#X connect 3 2 1 0;
#X connect 4 0 7 0;
#X connect 5 0 7 2;
#X connect 7 0 11 0;
#X connect 8 0 4 0;
#X connect 8 1 9 0;
#X connect 8 2 5 0;
#X connect 9 0 7 1;
#X connect 12 0 0 0;
#X connect 13 0 4 1;
#X connect 13 0 9 1;
#X connect 13 1 2 0;
#X connect 13 2 14 0;
#X connect 15 0 13 0;
#X restore 444 87 pd \$0-ant_init;
#X text 351 139 direction: up (0) \, rt(1) \, d(2) \, l(3);
#X text 515 53 INIT;
#X connect 0 0 5 0;
#X connect 2 0 48 0;
#X connect 3 0 0 0;
#X connect 5 0 6 0;
#X connect 5 1 6 1;
#X connect 5 2 26 1;
#X connect 6 0 15 0;
#X connect 10 0 20 0;
#X connect 12 0 14 0;
#X connect 13 0 10 0;
#X connect 13 1 14 1;
#X connect 15 0 42 0;
#X connect 15 1 16 0;
#X connect 15 2 47 0;
#X connect 16 0 40 0;
#X connect 20 0 21 0;
#X connect 20 0 23 0;
#X connect 20 1 12 0;
#X connect 20 1 24 0;
#X connect 21 0 14 0;
#X connect 22 0 25 0;
#X connect 23 0 22 1;
#X connect 24 0 22 1;
#X connect 25 0 27 0;
#X connect 25 0 37 1;
#X connect 26 0 22 0;
#X connect 27 0 30 0;
#X connect 27 1 31 0;
#X connect 27 2 32 0;
#X connect 27 3 33 0;
#X connect 28 0 43 0;
#X connect 28 1 29 0;
#X connect 29 0 28 2;
#X connect 30 0 28 1;
#X connect 31 0 28 1;
#X connect 32 0 28 1;
#X connect 33 0 28 1;
#X connect 37 0 38 0;
#X connect 39 0 0 1;
#X connect 41 0 47 1;
#X connect 42 0 28 0;
#X connect 42 1 26 0;
#X connect 43 0 37 0;
#X connect 43 1 46 0;
#X connect 44 0 43 1;
#X connect 45 0 44 1;
#X connect 45 0 46 1;
#X connect 46 0 44 0;
#X connect 47 0 13 0;
#X restore 288 173 pd \$0-ant_moves;
#X obj 228 20 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 228 40 t f f;
#X obj 325 104 sel 1;
#X obj 105 396 pix_texture;
#X msg 254 333 quality 0;
#N canvas 486 95 450 300 gemwin 0;
#X obj 132 136 gemwin;
#X obj 67 89 outlet;
#X obj 67 10 inlet;
#X obj 67 41 route create;
#X msg 67 70 set destroy;
#X msg 142 68 set create;
#X msg 198 112 destroy \, reset;
#X msg 132 94 create \, 1 \, color 0.5 0.5 0.5;
#X msg 195 36 dimen 640 640;
#X obj 358 30 loadbang;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 7 0;
#X connect 3 1 5 0;
#X connect 3 1 6 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 0 0;
#X connect 9 0 8 0;
#X restore 42 48 pd gemwin;
#X msg 42 29 create;
#X obj 105 421 square 4;
#X obj 325 129 f 128;
#X obj 106 335 pix_set 128 128;
#X text 67 80 needs pdklist;
#X obj 389 69 nbx 5 20 -1e+37 1e+37 0 0 \$0-gemdim empty dim 0 -8 0
15 -262144 -1 -1 256 256;
#X obj 474 12 loadbang;
#X msg 474 37 128;
#X obj 227 88 metro 1;
#X obj 455 306 makefilename langtonant%d;
#X obj 347 309 gemhead 51;
#X obj 430 199 bng 30 250 50 0 empty empty write_jpg 35 7 0 20 -262144
-1 -1;
#X obj 430 234 t b b;
#X obj 527 250 random 1001;
#X msg 455 331 file \$1 99;
#X obj 256 259 r \$0-gemdim;
#X msg 256 284 set \$1 \$1;
#X obj 372 430 pix_write 0 0;
#X connect 0 0 13 0;
#X connect 1 0 13 0;
#X connect 2 0 1 0;
#X connect 2 0 8 0;
#X connect 3 0 13 1;
#X connect 4 0 5 0;
#X connect 5 0 18 0;
#X connect 5 1 6 0;
#X connect 6 0 12 0;
#X connect 7 0 11 0;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 10 0 9 0;
#X connect 12 0 3 1;
#X connect 13 0 7 0;
#X connect 15 0 12 1;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X connect 18 0 3 0;
#X connect 19 0 24 0;
#X connect 20 0 27 0;
#X connect 21 0 22 0;
#X connect 22 0 27 0;
#X connect 22 1 23 0;
#X connect 23 0 19 0;
#X connect 24 0 27 0;
#X connect 25 0 26 0;
#X connect 26 0 13 0;
